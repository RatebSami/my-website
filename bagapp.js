// Product data for different services
const productData = {
    web: {
      title: "2025 Premium Genuine Leather Women's Bag – Red Embroidered Chinese Style by Woodpecker",
      price: "60€",
      description: "Embrace timeless elegance and cultural sophistication with the 2025 Premium Women's Bag by Woodpecker (TUCANO). Designed with a perfect blend of traditional Chinese art and modern luxury, this striking wine-red handbag features exquisite embroidery and high-quality leatherwork that stands out in every detail.",
      features: [
        "Brand: Woodpecker (TUCANO)",
        "Color: Elegant Wine Red", 
        "Material: Top-layer cowhide leather + synthetic leather",
        "Lining: Premium woven fabric",
        "Bag Dimensions:24x10.3x14.8cm",
        "Handle Height: 12.5 cm",
        "Adjustable Shoulder Strap: 105–120 cm"
      ],
      images: [
        "Products/Woodpecker/images/main.png",
        "Products/Woodpecker/images/1.png",
        "Products/Woodpecker/images/2.png", 
        "Products/Woodpecker/images/3.png", 
        "Products/Woodpecker/images/4.png", 
        "Products/Woodpecker/images/5.png", 
        "Products/Woodpecker/images/6.png", 
        "Products/Woodpecker/images/7.png", 
        "Products/Woodpecker/images/8.png",
        "Products/Woodpecker/images/9.png", 
        "Products/Woodpecker/images/10.png", 
        "Products/Woodpecker/images/11.png", 
        "Products/Woodpecker/images/12.png", 
        "Products/Woodpecker/images/13.png", 
        "Products/Woodpecker/images/14.png", 
        "Products/Woodpecker/images/15.png", 
        "Products/Woodpecker/images/16.png", 
        "Products/Woodpecker/images/17.png", 
        "Products/Woodpecker/images/18.png", 
        "Products/Woodpecker/images/19.png", 
      















        
      ]
    },
    mobile: {
      title: "Mobile Apps",
      price: "$3",
      description: "Native and cross-platform mobile applications that deliver exceptional user experiences across all devices. Built with modern frameworks and optimized for performance.",
      features: [
        "iOS & Android Development",
        "React Native & Flutter",
        "Native Performance",
        "App Store Optimization",
        "Push Notifications",
        "Analytics Integration"
      ],
      images: [
        "https://images.pexels.com/photos/607812/pexels-photo-607812.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1092644/pexels-photo-1092644.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=800"
      ]
    },
    design: {
      title: "UI/UX Design",
      price: "$1,999",
      description: "Beautiful, intuitive designs that enhance user engagement and drive business results through thoughtful UX research and modern design principles.",
      features: [
        "User Research & Analysis",
        "Wireframing & Prototyping",
        "Visual Design Systems",
        "Usability Testing",
        "Responsive Design",
        "Brand Guidelines"
      ],
      images: [
        "https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1779487/pexels-photo-1779487.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800"
      ]
    },
    cloud: {
      title: "Cloud Solutions",
      price: "$2,499",
      description: "Scalable cloud infrastructure and deployment solutions that grow with your business requirements. Expert implementation of AWS, Azure, and Google Cloud services.",
      features: [
        "AWS & Azure Setup",
        "DevOps & CI/CD Pipelines",
        "Serverless Architecture",
        "Database Migration",
        "Security Implementation",
        "24/7 Monitoring"
      ],
      images: [
        "https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1148820/pexels-photo-1148820.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/2004161/pexels-photo-2004161.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1181677/pexels-photo-1181677.jpeg?auto=compress&cs=tinysrgb&w=800"
      ]
    },
    api: {
      title: "API Development",
      price: "$2,199",
      description: "Robust, secure APIs that power your applications and enable seamless integration with third-party services. Built with modern standards and best practices.",
      features: [
        "RESTful API Design",
        "GraphQL Implementation",
        "Microservices Architecture",
        "API Documentation",
        "Security & Authentication",
        "Performance Optimization"
      ],
      images: [
        "https://images.pexels.com/photos/270348/pexels-photo-270348.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/574071/pexels-photo-574071.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=800"
      ]
    },
    security: {
      title: "Security & Testing",
      price: "$1,799",
      description: "Comprehensive security audits and testing strategies to ensure your applications are secure and reliable. Protect your business with enterprise-grade security.",
      features: [
        "Security Audits & Penetration Testing",
        "Automated Testing Suites",
        "Performance Optimization",
        "Code Quality Analysis",
        "Vulnerability Assessment",
        "Compliance Consulting"
      ],
      images: [
        "https://images.pexels.com/photos/60504/security-protection-anti-virus-software-60504.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/270348/pexels-photo-270348.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/574071/pexels-photo-574071.jpeg?auto=compress&cs=tinysrgb&w=800"
      ]
    }
  };
  
  // Mobile Navigation Toggle
  const navToggle = document.querySelector('.nav-toggle');
  const navMenu = document.querySelector('.nav-menu');
  
  if (navToggle && navMenu) {
    navToggle.addEventListener('click', () => {
      navMenu.classList.toggle('active');
      navToggle.classList.toggle('active');
    });
  
    // Close mobile menu when clicking on nav links
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
      });
    });
  }
  
  // Get product type from URL parameters
  function getProductType() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('service') || 'web';
  }
  
  // Load product data
  function loadProductData() {
    const productType = getProductType();
    const product = productData[productType] || productData.web;
    
    // Update page content
    document.getElementById('product-title').textContent = product.title;
    document.getElementById('product-price').textContent = product.price;
    document.getElementById('product-description').textContent = product.description;
    document.getElementById('breadcrumb-product').textContent = product.title;
    
    // Update features list
    const featuresList = document.getElementById('product-features');
    featuresList.innerHTML = '';
    product.features.forEach(feature => {
      const li = document.createElement('li');
      li.textContent = feature;
      featuresList.appendChild(li);
    });
    
    // Update images
    updateGalleryImages(product.images);
  }
  
  // Update gallery images
  function updateGalleryImages(images) {
    const mainImage = document.getElementById('main-image');
    const thumbnailsContainer = document.querySelector('.gallery-thumbnails');
    
    // Set main image
    mainImage.src = images[0];
    
    // Clear and update thumbnails
    thumbnailsContainer.innerHTML = '';
    images.forEach((image, index) => {
      const thumbnail = document.createElement('div');
      thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
      thumbnail.setAttribute('data-image', image);
      
      const img = document.createElement('img');
      img.src = image.replace('w=800', 'w=200');
      img.alt = `Thumbnail ${index + 1}`;
      
      thumbnail.appendChild(img);
      thumbnailsContainer.appendChild(thumbnail);
    });
  }
  
  // Gallery functionality
  let currentImageIndex = 0;
  let galleryImages = [];
  
  function initializeGallery() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    const mainImage = document.getElementById('main-image');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    
    // Get all images
    galleryImages = Array.from(thumbnails).map(thumb => thumb.getAttribute('data-image'));
    
    // Thumbnail click handlers
    thumbnails.forEach((thumbnail, index) => {
      thumbnail.addEventListener('click', () => {
        setActiveImage(index);
      });
    });
    
    // Navigation button handlers
    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => {
        currentImageIndex = currentImageIndex > 0 ? currentImageIndex - 1 : galleryImages.length - 1;
        setActiveImage(currentImageIndex);
      });
      
      nextBtn.addEventListener('click', () => {
        currentImageIndex = currentImageIndex < galleryImages.length - 1 ? currentImageIndex + 1 : 0;
        setActiveImage(currentImageIndex);
      });
    }
  }
  
  function setActiveImage(index) {
    currentImageIndex = index;
    const mainImage = document.getElementById('main-image');
    const thumbnails = document.querySelectorAll('.thumbnail');
    
    // Update main image
    mainImage.src = galleryImages[index];
    
    // Update active thumbnail
    thumbnails.forEach((thumb, i) => {
      thumb.classList.toggle('active', i === index);
    });
  }
  
  // Buy button functionality
  function initializeBuyButton() {
    const buyBtn = document.getElementById('buy-btn');
    const quoteBtn = document.querySelector('.btn-quote');
    const wishlistBtn = document.querySelector('.btn-wishlist');
    function initializeBuyButton() {
      const buyBtn = document.getElementById('buy-btn');
      
    
    if (buyBtn) {
      buyBtn.addEventListener('click', () => {
        // Show loading state
        const originalText = buyBtn.innerHTML;
        buyBtn.innerHTML = '<span class="btn-icon">⏳</span>Processing...';
        buyBtn.disabled = true;
        // Simulate purchase process
        setTimeout(() => {
          showNotification('Redirecting to checkout...', 'success');
          
          // Reset button after a moment
          setTimeout(() => {
            buyBtn.innerHTML = originalText;
            buyBtn.disabled = false;
          }, 2000);
        }, 1500);
      });
    }
    
    if (quoteBtn) {
      quoteBtn.addEventListener('click', () => {
        showNotification('Quote request sent! We\'ll contact you within 24 hours.', 'success');
      });
    }
    
    if (wishlistBtn) {
      wishlistBtn.addEventListener('click', () => {
        const icon = wishlistBtn.querySelector('.btn-icon');
        if (icon.textContent === '♡') {
          icon.textContent = '♥';
          wishlistBtn.style.color = 'var(--error-color)';
          showNotification('Added to wishlist!', 'success');
        } else {
          icon.textContent = '♡';
          wishlistBtn.style.color = '';
          showNotification('Removed from wishlist', 'info');
        }
      });
    }
  }
  }
  // Package selection functionality
  function initializePackageSelection() {
    const packageSelect = document.getElementById('package-select');
    const priceElement = document.getElementById('product-price');
    
    if (packageSelect && priceElement) {
      packageSelect.addEventListener('change', (e) => {
        const selectedValue = e.target.value;
        let newPrice = '$2,999';
        
        switch (selectedValue) {
          case 'White':
            newPrice = '';
            break;
          case 'premium':
            newPrice = '';
            break;
          case 'enterprise':
            newPrice = '';
            break;
        }
        
        priceElement.textContent = newPrice;
        
        // Add a subtle animation
        priceElement.style.transform = 'scale(1.1)';
        priceElement.style.color = 'var(--success-color)';
        
        setTimeout(() => {
          priceElement.style.transform = 'scale(1)';
          priceElement.style.color = 'var(--primary-color)';
        }, 300);
      });
    }
  }
  
  // Related products functionality
  function initializeRelatedProducts() {
    const relatedCards = document.querySelectorAll('.related-card');
    
    relatedCards.forEach(card => {
      card.addEventListener('click', () => {
        const service = card.getAttribute('data-service');
        if (service) {
          window.location.href = `products.html?service=${service}`;
        }
      });
    });
  }
  
  // Notification system (reused from main.js)
  function showNotification(message, type = 'info') {
    // Remove existing notifications
    const existingNotification = document.querySelector('.notification');
    if (existingNotification) {
      existingNotification.remove();
    }
    
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
      <div class="notification-content">
        <span class="notification-message">${message}</span>
        <button class="notification-close">&times;</button>
      </div>
    `;
    
    // Add notification styles
    const style = document.createElement('style');
    style.textContent = `
      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--bg-tertiary);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: var(--radius-lg);
        padding: var(--spacing-4) var(--spacing-6);
        z-index: 9999;
        min-width: 300px;
        box-shadow: var(--shadow-xl);
        transform: translateX(400px);
        transition: transform 0.3s ease;
      }
      
      .notification.show {
        transform: translateX(0);
      }
      
      .notification-success {
        border-left: 4px solid var(--success-color);
      }
      
      .notification-error {
        border-left: 4px solid var(--error-color);
      }
      
      .notification-info {
        border-left: 4px solid var(--primary-color);
      }
      
      .notification-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: var(--spacing-4);
      }
      
      .notification-message {
        color: var(--text-primary);
        font-size: var(--font-size-sm);
      }
      
      .notification-close {
        background: none;
        border: none;
        color: var(--text-secondary);
        font-size: var(--font-size-lg);
        cursor: pointer;
        padding: 0;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .notification-close:hover {
        color: var(--text-primary);
      }
    `;
    
    // Add styles and notification to page
    document.head.appendChild(style);
    document.body.appendChild(notification);
    
    // Show notification with animation
    setTimeout(() => {
      notification.classList.add('show');
    }, 100);
    
    // Close button functionality
    const closeButton = notification.querySelector('.notification-close');
    closeButton.addEventListener('click', () => {
      notification.classList.remove('show');
      setTimeout(() => {
        notification.remove();
        style.remove();
      }, 300);
    });
    
    // Auto-close after 5 seconds
    setTimeout(() => {
      if (document.body.contains(notification)) {
        notification.classList.remove('show');
        setTimeout(() => {
          notification.remove();
          style.remove();
        }, 300);
      }
    }, 5000);
  }
  
  // Initialize everything when DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    loadProductData();
    
    // Wait a bit for images to load before initializing gallery
    setTimeout(() => {
      initializeGallery();
    }, 100);
    
    initializeBuyButton();
    initializePackageSelection();
    initializeRelatedProducts();
    
    console.log('Products page loaded successfully! 🛍️');
  });